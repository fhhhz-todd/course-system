spring.application.name=Course-system
server.port=8080

# Database configuration (MySQL)
#spring.datasource.url=jdbc:mysql://localhost:3306/course_system?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Shanghai&createDatabaseIfNotExist=true
#spring.datasource.username=root
#spring.datasource.password=fhz050429
#spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# H2 Database configuration (for persistent development without MySQL)
# 使用 user.home 下的固定路径，避免因“启动工作目录变化”导致每次创建到不同的 ./data 目录，从而出现“重启后账号丢失”。
spring.datasource.url=jdbc:h2:file:${user.home}/CourseSystemData/course_system_db;AUTO_SERVER=TRUE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.h2.console.enabled=true
# 默认使用 H2 文件库持久化（./data/course_system_db），不在每次启动时重建/清空数据。
# 如需“重建数据库”，请手动删除 ./data/course_system_db*.db 后再启动一次。
spring.sql.init.mode=embedded
spring.sql.init.schema-locations=classpath:db/h2_schema.sql
spring.sql.init.continue-on-error=true
#spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
#spring.jpa.hibernate.ddl-auto=create-drop

# MyBatis-Plus configuration
mybatis-plus.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl
mybatis-plus.global-config.db-config.logic-delete-value=1
mybatis-plus.global-config.db-config.logic-not-delete-value=0
mybatis-plus.mapper-locations=classpath:mapper/*.xml

# MyBatis-Plus DDL configuration
mybatis-plus.global-config.db-config.id-type=auto
mybatis-plus.global-config.db-config.table-prefix=
mybatis-plus.configuration.auto-delimiter=;
mybatis-plus.global-config.banner=false

# Jackson configuration
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=Asia/Shanghai
spring.jackson.serialization.write-dates-as-timestamps=false

# File upload configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Spring Boot Actuator
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always